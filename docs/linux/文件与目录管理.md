---
editLink: false
---
# 文件与目录管理

## 目录

### 目录相关的操作

```shell
.         代表此层目录
..        代表上一层目录
-         代表前一个工作目录
~         代表“目前使用者身份”所在的主文件夹
~az       代表 az 这个使用者的主文件夹
```

- cd：变换目录
- pwd：显示目前的目录
  ```shell
  # 显示出实际的路径，而不是使用链接
  pwd -P
  ```
- mkdir：创建一个新的目录
  ```shell
  # 递归创建所需要的目录
  mkdir -p a/b/c/d
  ```
- rmdir：删除一个空的目录
  ```shell
  # 递归删除空的目录
  rmdir -p a/b/c/d
  ```

  ### 可执行文件路径的变量：$PATH
  我们可以在任意地方使用命令，是因为我们使用的命令的/bin或者/usr/bin 这些目录都在$PATH这个变量内。
  不在这个变量PATH内的指令如果要使用，则需要使用绝对路径的方式访问
  - 不同身份的使用者默认的PATH不同，默认能够随意执行的指令也不同
  - PATH是可以修改的
  - 使用绝对路径或相对路径直接指定某个指令的文件名来执行，会比搜寻PATH来的正确
  - 本目录（.）最好不要放到PATH当中

  ### 文件与目录的监视： ls
  |选项|参数|
  |---|---|
  |-a|全部的文件，包括隐藏的文件|
  |-A|全部的文件，包括隐藏的文件，但不包括（.）和（..）这两个目录|
  |-d|仅目录|
  |-f|直接列出结果，而不进行排序（ls默认会以文件名排序）|
  |-F|根据文件、目录等信息，给予附加数据结构。 *：可执行文件、/：目录、=：socket文件、&#124：FIFO文件|
  |-h|将文件以GB、KB等的方式列出|
  |-i|列出inode号码|
  |-l|长数据串行出，包括文件的属性与权限|
  |-n|UID与GID而非使用者与群组的名称|
  |-r|反向排序输出|
  |-R|连同子目录内容一起列出来|
  |-S|以文件大小排序|
  |-t|以时间排序|
  |--color=never|不依据文件特性给予颜色显示|
  |--color=always|显示颜色|
  |--color=auto|让系统自行依据设置来判断是否给予颜色|
  |--full-time|以完整时间模式输出|
  ### 复制、删除、移动
  - cp（复制）
    |选项|参数|
    |---|---|
    |-a|相当于 -dr --preserve=all的意思|
    |-d|源文件为链接文件的属性，复制链接文件属性而非文件本身|
    |-f|强制，目标文件存在且无法打开，则移除后再尝试一次|
    |-i|目标文件已经存在时，在覆盖是会先询问动作的进行|
    |-l|进行硬式链接的链接文件创建，而非复制文件本身|
    |-p|连同文件属性一起复制过去|
    |-r|递归复制，目录的复制行为|
    |-s|复制成为符号链接文件，既快捷文件|
    |-u|目标文件不存在或者目标文件比源文件旧时，才复制|
    ```shell
    [root@iZbp13op1xah7j3j1x457dZ tmp]# cp /var/log/wtmp .
    [root@iZbp13op1xah7j3j1x457dZ tmp]# ls
    aliyun_assist_service.sock  systemd-private-bc591917886f4234b038068d870ce742-chronyd.service-pz5zFc  vscode-typescript0  yum_save_tx.2024-07-23.17-07.wSsOei.yumtx
    bashrc                      systemd-private-bc591917886f4234b038068d870ce742-nginx.service-tIjyZz    wtmp

    
    [root@iZbp13op1xah7j3j1x457dZ tmp]# ls -l /var/log/wtmp wtmp
    -rw-rw-r--. 1 root utmp 46848 Jul 23 19:05 /var/log/wtmp
    -rw-r--r--  1 root root 46848 Jul 24 14:39 wtmp
    -rw-r--r--. 1 root root 28416 Jun 11 19:01 wtmp 
    # 注意上面的特殊字体，在不加任何选项的情况下，文件的某些属性/权限会改变； 
    # 这是个很重要的特性！要注意喔！还有，连文件建立的时间也不一样了
    # 那如果你想要将文件的所有特性都一起复制过来该怎办？可以加上 -a 
    
    [root@iZbp13op1xah7j3j1x457dZ tmp]# cp -a /var/log/wtmp wtmp_2
    [root@iZbp13op1xah7j3j1x457dZ tmp]# ls -l /var/log/wtmp wtmp_2
    -rw-rw-r--. 1 root utmp 46848 Jul 23 19:05 /var/log/wtmp
    -rw-rw-r--. 1 root utmp 46848 Jul 23 19:05 wtmp_2

    
    [root@iZbp13op1xah7j3j1x457dZ tmp]# cp /etc/ /tmp
    cp: omitting directory ‘/etc/’
    [root@iZbp13op1xah7j3j1x457dZ tmp]# cp -r /etc/ tmp
    [root@iZbp13op1xah7j3j1x457dZ tmp]# ls -l /etc/ etc
    

    [root@iZbp13op1xah7j3j1x457dZ tmp]# cp -s bashrc bashrc_slink
    [root@iZbp13op1xah7j3j1x457dZ tmp]# cp -l bashrc bashrc_hlink
    [root@iZbp13op1xah7j3j1x457dZ tmp]# ls -l bashrc*
    -rw-r--r-- 2 root root 176 Jul 24 14:37 bashrc
    -rw-r--r-- 2 root root 176 Jul 24 14:37 bashrc_hlink
    lrwxrwxrwx 1 root root   6 Jul 24 14:56 bashrc_slink -> bashrc

    # 最后一个一定是目录
    [root@iZbp13op1xah7j3j1x457dZ tmp]# cp ~/.bashrc ~/.bash_history /tmp
    ```
  - rm（删除）
    ```shell
    [root@iZbp13op1xah7j3j1x457dZ tmp]# rm -i bashrc
    rm: remove regular file ‘bashrc’? y
    [root@iZbp13op1xah7j3j1x457dZ tmp]# ls
    aliyun_assist_service.sock  bashrc_slink_2                                                           vscode-typescript0
    bashrc_hlink                systemd-private-bc591917886f4234b038068d870ce742-chronyd.service-pz5zFc  wtmp
    bashrc_slink                systemd-private-bc591917886f4234b038068d870ce742-nginx.service-tIjyZz    wtmp_2
    bashrc_slink_1              tmp                                                                      yum_save_tx.2024-07-23.17-07.wSsOei.yumtx
    [root@iZbp13op1xah7j3j1x457dZ tmp]# rm -i bashrc*
    rm: remove regular file ‘bashrc_hlink’? y
    rm: remove symbolic link ‘bashrc_slink’? y
    rm: remove regular file ‘bashrc_slink_1’? y
    rm: remove symbolic link ‘bashrc_slink_2’? y
    [root@iZbp13op1xah7j3j1x457dZ tmp]# ls
    aliyun_assist_service.sock                                               tmp                 wtmp_2
    systemd-private-bc591917886f4234b038068d870ce742-chronyd.service-pz5zFc  vscode-typescript0  yum_save_tx.2024-07-23.17-07.wSsOei.yumtx
    systemd-private-bc591917886f4234b038068d870ce742-nginx.service-tIjyZz    wtmp
    [root@iZbp13op1xah7j3j1x457dZ tmp]# 
    ```
  - move（移动）
    -f  ：force 强制的意思，如果目标文件已经存在，不会询问而直接覆盖；
    -i  ：若目标文件 (destination) 已经存在时，就会询问是否覆盖！
    -u  ：若目标文件已经存在，且 source 比较新，才会更新 (update) 
  
